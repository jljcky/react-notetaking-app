(this.webpackJsonpnotetaking_app=this.webpackJsonpnotetaking_app||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var o=n(0),s=n.n(o),i=n(6),a=n.n(i),r=(n(12),n(1)),c=n(2),d=n(4),l=n(3),u=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement("textarea",{className:"note-field",disabled:this.props.isNotIdle,value:this.props.description,onChange:function(t){e.props.writeNote(t)}})}}]),n}(o.Component),g=function(e){var t=e.isDragging?"grabbing":"grab";return s.a.createElement("div",{className:"note-drag",style:{cursor:t}})},N=function(e){var t=e.selected?"initial":"none";return s.a.createElement("div",{className:"note-resize",style:{left:e.x-e.side/2,top:e.y-e.side/2,width:e.side,height:e.side,display:t}})},p=function(e){var t=e.selected?"initial":"none";return s.a.createElement("div",{className:"note-delete",onClick:function(t){e.deleteNote(t,e.id)},style:{left:e.x-e.side/2,top:0-e.side/2,width:e.side,height:e.side,display:t}})},m=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.note,n=t.width>100?t.width:100,o=t.height>100?t.height:100;return s.a.createElement("div",{className:"note",style:{width:n,height:o,left:t.x,top:t.y,zIndex:t.zIndex},onMouseDown:function(n){e.props.selectNote(n,t.id),"note-drag"===n.target.className?e.props.dragNote(n,t.id,"mousedown"):"note-resize"===n.target.className&&e.props.resizeNote(n,t.id,"mousedown")}},s.a.createElement(g,{isDragging:this.props.isDragging}),s.a.createElement(u,{description:t.description,writeNote:this.props.writeNote,isNotIdle:this.props.isNotIdle}),s.a.createElement(N,{selected:this.props.selected,side:20,x:n,y:o}),s.a.createElement(p,{deleteNote:this.props.deleteNote,id:t.id,selected:this.props.selected,side:30,x:n,y:o}))}}]),n}(o.Component),h=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isDragging:!1,isResizing:!1,noteID:0,selectedNoteID:-1,zIndex:0,notes:[],mouseX:0,mouseY:0,dX:0,dY:0},e.selectNote=function(t,n){t.currentTarget.style.zIndex=e.state.zIndex,e.setState((function(e){return{selectedNoteID:n,zIndex:e.zIndex++}}))},e.deselectNote=function(){e.setState({selectedNoteID:-1})},e.createNote=function(t){if("noteboard"===t.target.className){var n=e.state.notes;n.push({id:e.state.noteID,width:250,height:250,x:t.clientX,y:t.clientY,zIndex:e.state.zIndex,description:""}),e.setState((function(e){return{noteID:e.noteID++,zIndex:e.zIndex++,notes:n}}))}},e.getMouseInfoFromNote=function(t,n){var o=t.clientX,s=t.clientY,i=e.state.notes.find((function(e){return e.id===n}));return[o,s,o-i.x,s-i.y]},e.workWithNote=function(t,n){var o=e.state.notes,s=o.findIndex((function(e){return e.id===t}));return o[s]=n(o[s]),o},e.dragNote=function(t,n,o){switch(o){case"mousedown":var s=e.getMouseInfoFromNote(t,n);e.setState({isDragging:!0,mouseX:s[0],mouseY:s[1],dX:s[2],dY:s[3]});break;case"mousemove":var i=e.workWithNote(e.state.selectedNoteID,(function(n){return n.x=t.clientX-e.state.dX,n.y=t.clientY-e.state.dY,n}));e.setState({notes:i});break;case"mouseup":e.setState({isDragging:!1})}},e.resizeNote=function(t,n,o){switch(o){case"mousedown":var s=e.getMouseInfoFromNote(t,n);e.setState({isResizing:!0,mouseX:s[0],mouseY:s[1],dX:s[2],dY:s[3]});break;case"mousemove":var i=e.workWithNote(e.state.selectedNoteID,(function(e){return e.width=t.clientX-e.x,e.height=t.clientY-e.y,e}));e.setState({notes:i});break;case"mouseup":e.setState({isResizing:!1})}},e.deleteNote=function(t,n){var o=e.state.notes.filter((function(e){return e.id!==n}));e.setState({notes:o})},e.writeNote=function(t){var n=e.workWithNote(e.state.selectedNoteID,(function(e){return e.description=t.target.value,e}));e.setState({notes:n})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("notes");e&&(e=JSON.parse(e),this.setState({noteID:e.noteID,zIndex:e.zIndex,notes:e.notes}))}},{key:"componentDidUpdate",value:function(){localStorage.setItem("notes",JSON.stringify(this.state))}},{key:"render",value:function(){var e=this,t=this.state.notes.map((function(t){return s.a.createElement(m,{key:t.id,note:t,selectNote:e.selectNote,dragNote:e.dragNote,resizeNote:e.resizeNote,deleteNote:e.deleteNote,writeNote:e.writeNote,selected:e.state.selectedNoteID===t.id,isDragging:e.state.isDragging,isResizing:e.state.isResizing,isNotIdle:e.state.isDragging||e.state.isResizing})}));return s.a.createElement("div",{className:"noteboard",onDoubleClick:function(t){e.createNote(t)},onMouseMove:function(t){-1!==e.state.selectedNoteID&&(e.state.isDragging?e.dragNote(t,e.state.selectedNoteID,"mousemove"):e.state.isResizing&&e.resizeNote(t,e.state.selectedNoteID,"mousemove"))},onMouseUp:function(t){e.state.isDragging?e.dragNote(t,e.state.selectedNoteID,"mouseup"):e.state.isResizing&&e.resizeNote(t,e.state.selectedNoteID,"mouseup"),"noteboard"===t.target.className&&e.deselectNote()}},t)}}]),n}(o.Component);var f=function(){return s.a.createElement(h,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){e.exports=n(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.ab5a80f1.chunk.js.map